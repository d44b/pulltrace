---
phase: 01-foundation-files
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - CONTRIBUTING.md
  - CHANGELOG.md
  - CODE_OF_CONDUCT.md
autonomous: true
requirements:
  - COMM-01
  - COMM-02
  - COMM-03

must_haves:
  truths:
    - "CONTRIBUTING.md includes a 'Building with Docker (Go 1.22 required locally)' subsection immediately before the make build step"
    - "CHANGELOG.md exists at repo root with a [0.1.0] entry in keep-a-changelog format dated 2026-02-23"
    - "CODE_OF_CONDUCT.md is the full Contributor Covenant v2.1 text (~145 lines), not the truncated 32-line stub"
  artifacts:
    - path: "CONTRIBUTING.md"
      provides: "Local dev setup with Go 1.22 Docker workaround"
      contains: "Building with Docker"
    - path: "CHANGELOG.md"
      provides: "Release history in keep-a-changelog format"
      contains: "## [0.1.0]"
    - path: "CODE_OF_CONDUCT.md"
      provides: "Contributor Covenant v2.1"
      min_lines: 100
  key_links:
    - from: "CONTRIBUTING.md"
      to: "Development Setup section"
      via: "Docker workaround subsection before make build"
      pattern: "Building with Docker"
    - from: "CHANGELOG.md"
      to: "keep-a-changelog format"
      via: "Unreleased + [0.1.0] sections with comparison links"
      pattern: "\\[0\\.1\\.0\\]"
    - from: "CODE_OF_CONDUCT.md"
      to: "Contributor Covenant v2.1"
      via: "Full text including Enforcement Guidelines"
      pattern: "Enforcement Guidelines"
---

<objective>
Create and complete the three community files required for open-source credibility: CONTRIBUTING.md (add Go 1.22 Docker workaround), CHANGELOG.md (create from scratch), and CODE_OF_CONDUCT.md (replace truncated stub with full v2.1).

Purpose: A contributor visiting the repo for the first time needs to be able to build the project and understand community expectations. CHANGELOG.md is also a hard prerequisite for the Phase 3 release body.
Output: Three community files at repo root that satisfy COMM-01, COMM-02, COMM-03.
</objective>

<execution_context>
@/Users/jmaciejewski/.claude/get-shit-done/workflows/execute-plan.md
@/Users/jmaciejewski/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-files/01-RESEARCH.md
@CONTRIBUTING.md
@CODE_OF_CONDUCT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Go 1.22 Docker workaround to CONTRIBUTING.md</name>
  <files>CONTRIBUTING.md</files>
  <action>
    Read CONTRIBUTING.md first. The file currently has build steps but is missing the Go 1.22 + Docker workaround (project memory: local machine has Go 1.18, go.mod requires 1.22.0 — `make build` fails locally).

    Insert a new subsection titled "Building with Docker (Go 1.22 required locally)" immediately before the `make build` command in the existing "Development Setup" or equivalent build section. Do NOT place it at the end of the file.

    The subsection must explain:
    - Why it's needed: go.mod requires Go 1.22.0; developers with older Go installations cannot run `make build` directly
    - The Docker-based workaround command: `docker run --rm -v $(pwd):/app -w /app golang:1.22 go build ./...`
    - For running tests: `docker run --rm -v $(pwd):/app -w /app golang:1.22 go test ./...`
    - Note that CI uses Go 1.22 via the Dockerfile, so pushed code will build correctly even if local build fails

    Check Dockerfile.server or Dockerfile.agent to confirm the exact Go version used in Docker (use that version in the workaround command, not a hardcoded "1.22"). Use the actual FROM line version.

    Preserve all existing content. Only insert the new subsection; do not rewrite surrounding content.
  </action>
  <verify>
    <automated>grep -c "Building with Docker" /Users/jmaciejewski/workspace/pulltrace/CONTRIBUTING.md</automated>
    <manual>Read CONTRIBUTING.md and confirm the Docker subsection appears before any `make build` instruction, not at the end of the file.</manual>
  </verify>
  <done>CONTRIBUTING.md contains a "Building with Docker" subsection with the `docker run` workaround command, positioned before the make build step, and the file is otherwise unchanged.</done>
</task>

<task type="auto">
  <name>Task 2: Create CHANGELOG.md from scratch</name>
  <files>CHANGELOG.md</files>
  <action>
    Create CHANGELOG.md at the repo root. The file does not currently exist.

    Use keep-a-changelog v1.1.0 format (https://keepachangelog.com/en/1.1.0/):

    ```markdown
    # Changelog

    All notable changes to this project will be documented in this file.

    The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.1.0/),
    and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

    ## [Unreleased]

    ## [0.1.0] - 2026-02-23

    ### Added
    - Real-time container image pull progress monitoring via containerd socket
    - Layer-by-layer download progress with bytesPerSec and estimated time remaining
    - Kubernetes pod correlation — matches active pulls to waiting pods by image name
    - Prometheus metrics: `pulltrace_pulls_active`, `pulltrace_pulls_total`, `pulltrace_pull_duration_seconds`, `pulltrace_pull_bytes_total`, `pulltrace_pull_errors_total`
    - Server-Sent Events (SSE) streaming for live browser updates without polling
    - React + Vite web UI with per-pull expandable layer detail view
    - Helm chart for Kubernetes DaemonSet + server deployment

    [Unreleased]: https://github.com/d44b/pulltrace/compare/v0.1.0...HEAD
    [0.1.0]: https://github.com/d44b/pulltrace/releases/tag/v0.1.0
    ```

    Note: The comparison links at the bottom will 404 until the v0.1.0 tag is pushed in Phase 4. This is acceptable — the links are correct and will resolve after Phase 4. Do not remove them.
  </action>
  <verify>
    <automated>grep -c "\[0\.1\.0\]" /Users/jmaciejewski/workspace/pulltrace/CHANGELOG.md</automated>
    <manual>Confirm file starts with "# Changelog", has [Unreleased] and [0.1.0] sections, and has comparison links at the bottom.</manual>
  </verify>
  <done>CHANGELOG.md exists at repo root with the [Unreleased] section, a [0.1.0] entry with Added items, and comparison links in keep-a-changelog format.</done>
</task>

<task type="auto">
  <name>Task 3: Replace CODE_OF_CONDUCT.md with full Contributor Covenant v2.1</name>
  <files>CODE_OF_CONDUCT.md</files>
  <action>
    The existing CODE_OF_CONDUCT.md is a truncated 32-line stub missing Scope, Enforcement Responsibilities, Enforcement Guidelines (four escalation levels), and the contact method placeholder. Replace it entirely.

    Write the full Contributor Covenant v2.1 text. The complete v2.1 text is available at https://www.contributor-covenant.org/version/2/1/code_of_conduct/ and is approximately 145 lines. It must include all of the following sections:
    1. Our Pledge
    2. Our Standards (with both positive behaviors and unacceptable behaviors)
    3. Enforcement Responsibilities
    4. Scope
    5. Enforcement
    6. Enforcement Guidelines (with all four levels: 1. Correction, 2. Warning, 3. Temporary Ban, 4. Permanent Ban)
    7. Attribution

    For the contact method in the Enforcement section, use the placeholder text `[INSERT CONTACT METHOD]` per the official template — do not invent an email address.

    The file MUST be the complete canonical text — not a summary or paraphrase. If the resulting file is under 100 lines, it is still truncated and must be completed.

    Overwrite the file completely; do not attempt to extend the existing stub.
  </action>
  <verify>
    <automated>wc -l /Users/jmaciejewski/workspace/pulltrace/CODE_OF_CONDUCT.md | awk '{print $1}'</automated>
    <manual>Confirm file contains "Enforcement Guidelines" section with four numbered escalation levels (Correction, Warning, Temporary Ban, Permanent Ban) and the Attribution section at the bottom.</manual>
  </verify>
  <done>CODE_OF_CONDUCT.md is 100+ lines, contains all required v2.1 sections including Enforcement Guidelines with four levels, and includes the Attribution section referencing contributor-covenant.org.</done>
</task>

</tasks>

<verification>
1. `grep -c "Building with Docker" CONTRIBUTING.md` returns 1
2. `test -f CHANGELOG.md && grep -c "\[0\.1\.0\]" CHANGELOG.md` returns 1
3. `wc -l CODE_OF_CONDUCT.md` shows 100+ lines
4. `grep "Enforcement Guidelines" CODE_OF_CONDUCT.md` returns a match
5. `grep "Keep a Changelog" CHANGELOG.md` returns a match
</verification>

<success_criteria>
- CONTRIBUTING.md has "Building with Docker" subsection with `docker run --rm -v $(pwd):/app -w /app golang:1.22 go build ./...` before the make build step
- CHANGELOG.md exists with [0.1.0] dated 2026-02-23, Added section, and comparison links
- CODE_OF_CONDUCT.md is 100+ lines with all Contributor Covenant v2.1 sections including all four Enforcement Guidelines levels
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-files/01-01-SUMMARY.md`
</output>
